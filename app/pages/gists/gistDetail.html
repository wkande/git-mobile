<ion-navbar *navbar>
  <button menuToggle>
    <ion-icon name="menu"></ion-icon>
  </button>
  <ion-title>Gist</ion-title>
</ion-navbar>

<ion-content>

    <gm-error [error]="error"></gm-error>
    <gm-spinner [spinner]="spinner"></gm-spinner>

<div  *ngIf="dataLoaded">

    <ion-card>
        <ion-item>
            <ion-avatar item-left>
              <span class="octicon octicon-gist item-left" style="font-size:32pt;"></span>
            </ion-avatar>
            <h2>{{gist.description}}</h2>
            <p>Created: {{gist.created_at}} - {{gist.timeAgo}}</p>
        </ion-item>

        <ion-list>

            <button *ngIf="gist.owner" ion-item (click)="itemTapped($event, {view:'profile', username:gist.owner.login})" style="background-color:#f1f1f1;">
                <ion-avatar item-left>
                  <img src="{{gist.owner.avatar_url}}">
                </ion-avatar>
                <h2>{{ownerProfile.name}}</h2>
                <p *ngIf="gist.owner">{{gist.owner.login}}</p>
                <p item-right>Owner</p>
            </button>
            <div *ngIf="!gist.owner" ion-item style="background-color:#f1f1f1;">
                <ion-avatar item-left>
                  <img src="img/blank_avatar.png">
                </ion-avatar>
                Owner Unknown
            </div>

        </ion-list>
    </ion-card>




        <!--button ion-item (click)="itemTapped($event, 'history')" style="background-color:#f1f1f1;">
            <span class="octicon octicon-history _gray" item-left style="font-size:26pt;margin-left:4px"></span>
            <span style="margin-left:4px;">History</span>
            <ion-badge class="_badge_lighter" style="float:right;">{{gist.history.length}}</ion-badge>
        </button-->


        <!--button ion-item (click)="itemTapped($event, 'forks')" style="background-color:#f1f1f1;">
            <span class="octicon octicon-star _gray" item-left style="font-size:26pt;margin-left:5px"></span>
            <span style="margin-left:3px;">Stargazers</span>
                <ion-badge class="_badge_lighter" style="float:right;">?</ion-badge>
        </button-->


    <ion-list>
      <button ion-item (click)="itemTapped($event, 'comments')">
          Comments
              <ion-badge class="_badge_lighter" style="float:right;">{{gist.comments}}</ion-badge>
      </button>
      <!--button ion-item (click)="itemTapped($event, 'forkof')" style="background-color:#f1f1f1;" *ngIf="gist.fork_of">
          <span class="octicon octicon-repo-forked _gray" item-left style="font-size:26pt;margin-left:9px;transform: rotate(180deg);"></span>
          <span style="margin-left:8px;">Forked from</span>
          <p style="margin-left:9px">{{gist.fork_of.owner.login}}/{{gist.fork_of.description}}</p>
      </button-->
      <!--button ion-item (click)="itemTapped($event, 'forks')" style="background-color:#f1f1f1;">
          <span class="octicon octicon-repo-forked _gray" item-left style="font-size:26pt;margin-left:9px;transform: rotate(90deg);"></span>
          <span style="margin-left:8px;">Forks</span>
              <ion-badge class="_badge_lighter" style="float:right;">{{gist.forks.length}}</ion-badge>
      </button-->

        <!--ion-list-header>
          Files
        </ion-list-header-->
        <button ion-item hef="#" *ngFor="#item of files" (click)="itemTapped($event, item)">
            {{item.name}}
            <!--pre><code>{{item.content}}</code></pre-->

        </button>
    </ion-list>
</div>

</ion-content>
